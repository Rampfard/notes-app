{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/App.js","webpack:///./src/js/components/Actions.js","webpack:///./src/js/components/Form.js","webpack:///./src/js/components/NoteTemplate.js","webpack:///./src/js/components/Notification.js","webpack:///./src/js/components/Store.js","webpack:///./src/js/components/UI.js","webpack:///./src/js/main.js","webpack:///./src/js/utils/DOMHelpers.js"],"names":["App","init","noteTemplate","NoteTemplate","mainForm","Form","store","Store","actionsHandler","Actions","ui","UI","getLocalStorage","constructor","addItem","noteData","saveNoteChanges","id","newValue","prop","existingItem","findItem","newItem","updateItem","removeNote","removeItem","removeAll","removeCompleted","setAllIncompleted","setCompleteStatus","setAllCompleted","setNoteComplete","isCompleted","getItemsCount","setTheme","themeName","getTheme","toggleCompleteStatus","completedOptions","options","map","op","shouldUpdate","includes","length","formSelector","form","getEl","titleInput","descriptionInput","formBody","formSelectors","getElements","submitButton","formType","connectInputHandler","connectChangeBodyHandler","connectCloseBtnHandler","getFormData","formData","Math","random","toString","slice","date","Date","toDateString","toLocaleTimeString","type","validateForm","title","value","description","el","text","textContent","clearForm","noteType","isValid","parentNode","classList","add","message","createElement","innerText","append","setTimeout","remove","input","trim","forEach","changeFormBody","e","target","dataset","innerHTML","createFormBody","optionPicker","optionsList","descrInput","optionPickerBtn","addEventListener","createOption","bind","preventDefault","parentEl","option","optionText","deleteBtn","selector","Note","createNote","note","day","month","split","noteContentEl","insertAdjacentElement","createOptions","newOption","Notification","createNotification","notification","name","window","localStorage","items","JSON","parse","getItem","setLocalStorage","newItems","setItem","stringify","storeItems","item","find","push","updatedStoreItems","filter","updatedItems","status","completeStatus","opt","completedNotes","notesQuantity","completedNotesQuantity","formInstance","actions","mainSection","noteList","tabs","createNoteBtn","searchInput","editMenu","settingsMenu","backdrop","notifications","contextMenuTemplate","noteDetail","themeModal","tabsBtn","startScreen","infoBlock","kitty","bindEventsToElements","newNote","resizeAllNotes","resizeNote","grid","rowHeight","parseInt","getComputedStyle","getPropertyValue","rowGap","rowSpan","ceil","getBoundingClientRect","height","style","gridRowEnd","editNote","textarea","appendChild","focus","editNoteFinished","contentEl","setNotesActiveStatus","setNotesInactiveStatus","filterNotesByType","notes","contains","copyToClipboard","textToCopy","navigator","clipboard","isSecureContext","writeText","textArea","document","position","left","top","body","select","Promise","res","rej","execCommand","createContextMenu","content","firstElementChild","contextMenu","cloneNode","y","clientY","x","clientX","noteRect","yInside","xInside","documentElement","width","clientWidth","contextMenuHandler","noteId","closest","selectNoteText","editMenuHandler","toggle","confirm","complete","noteClone","flipNotes","state","opacity","revert","removeEventListener","firstEl","lastEl","change","firstRect","lastRect","deltaX","deltaY","deltaW","deltaH","animate","transform","duration","easing","settingsMenuHandler","showThemeModal","connectSettingsMenu","connectThemeModal","checked","className","connectContextMenu","connectSearchHandler","searchValue","toLowerCase","connectShowFormBtn","btn","connectTabsHandler","tab","connectDoubleClickToNoteList","connectBodyClickHandler","matchMedia","connectEditMenu","connectSubmitFormHandler","connectToggleCompleteStatusHandler","allOptions","completedIds","connectEditNoteSaveHandler","connectEditNoteCancel","keyCode","blur","connectMansornyLayoutResize","timer","clearTimeout","connectTabsBtn","nextElementSibling","currentTheme","itemData","parent","querySelector","querySelectorAll","tag","connectEvent","handler","capture","delegate","dispatchEvent","call"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","import Store from './components/Store';\r\nimport UI from './components/UI';\r\nimport Form from './components/Form';\r\nimport NoteTemplate from './components/NoteTemplate';\r\nimport Actions from './components/Actions';\r\n\r\nexport default class App {\r\n\tstatic init() {\r\n\t\tconst noteTemplate = new NoteTemplate();\r\n\t\tconst mainForm = new Form('.form');\r\n\t\tconst store = new Store('notes');\r\n\t\tconst actionsHandler = new Actions(store);\r\n\t\tconst ui = new UI(noteTemplate, mainForm, actionsHandler);\r\n\r\n\t\tui.init(store.getLocalStorage());\r\n\t}\r\n}\r\n","export default class Actions {\r\n\tconstructor(store) {\r\n\t\tthis.store = store;\r\n\t}\r\n\r\n\taddItem(noteData) {\r\n\t\tthis.store.addItem(noteData);\r\n\t}\r\n\r\n\tsaveNoteChanges(id, newValue, prop) {\r\n\t\tconst existingItem = this.store.findItem(id);\r\n\r\n\t\tconst newItem = {\r\n\t\t\t...existingItem,\r\n\t\t\t[prop]: newValue,\r\n\t\t};\r\n\r\n\t\tthis.store.updateItem(newItem);\r\n\t}\r\n\r\n\tremoveNote(id) {\r\n\t\tthis.store.removeItem(id);\r\n\t}\r\n\r\n\tremoveAll() {\r\n\t\tthis.store.removeAll();\r\n\t}\r\n\r\n\tremoveCompleted() {\r\n\t\tthis.store.removeCompleted();\r\n\t}\r\n\r\n\tsetAllIncompleted() {\r\n\t\tthis.store.setCompleteStatus('incomplete');\r\n\t}\r\n\r\n\tsetAllCompleted() {\r\n\t\tthis.store.setCompleteStatus('complete');\r\n\t}\r\n\r\n\tsetNoteComplete(id) {\r\n\t\tconst existingItem = this.store.findItem(id);\r\n\t\texistingItem.isCompleted = true;\r\n\t\tthis.store.updateItem(existingItem);\r\n\t}\r\n\r\n\tgetItemsCount() {\r\n\t\treturn this.store.getItemsCount();\r\n\t}\r\n\r\n\tsetTheme(themeName) {\r\n\t\tthis.store.setTheme(themeName);\r\n\t}\r\n\r\n\tgetTheme() {\r\n\t\treturn this.store.getTheme('Theme');\r\n\t}\r\n\r\n\ttoggleCompleteStatus(id, completedOptions = []) {\r\n\t\tconst existingItem = this.store.findItem(id);\r\n\r\n\t\tif (!existingItem.options) {\r\n\t\t\texistingItem.isCompleted = !existingItem.isCompleted;\r\n\t\t\tthis.store.updateItem(existingItem);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\texistingItem.options = existingItem.options.map((op) => {\r\n\t\t\tconst shouldUpdate = completedOptions.includes(op.id);\r\n\r\n\t\t\tif (shouldUpdate) {\r\n\t\t\t\top.isCompleted = true;\r\n\t\t\t\treturn op;\r\n\t\t\t}\r\n\r\n\t\t\top.isCompleted = false;\r\n\t\t\treturn op;\r\n\t\t});\r\n\r\n\t\tif (completedOptions.length === existingItem.options.length) {\r\n\t\t\texistingItem.isCompleted = true;\r\n\t\t} else {\r\n\t\t\texistingItem.isCompleted = false;\r\n\t\t}\r\n\r\n\t\tthis.store.updateItem(existingItem);\r\n\t}\r\n}\r\n","import { getEl, getElements, createElement } from '../utils/DOMHelpers';\r\n\r\nexport default class Form {\r\n\tconstructor(formSelector) {\r\n\t\tthis.form = getEl(formSelector);\r\n\t\tthis.titleInput = getEl('input[name=\"note-title\"]', this.form);\r\n\t\tthis.descriptionInput = getEl('textarea', this.form);\r\n\t\tthis.formBody = getEl('.form__body', this.form);\r\n\t\tthis.formSelectors = getElements('input[type=\"radio\"]', this.form);\r\n\t\tthis.submitButton = getEl('#create-btn', this.form);\r\n\t\tthis.formType = 'note';\r\n\t\tthis.connectInputHandler(this.titleInput);\r\n\t\tthis.connectInputHandler(this.descriptionInput);\r\n\t\tthis.connectChangeBodyHandler();\r\n\t\tthis.connectCloseBtnHandler();\r\n\t}\r\n\r\n\tgetFormData() {\r\n\t\tconst options = getElements('.option p', this.form);\r\n\r\n\t\tconst formData = {\r\n\t\t\tid: `n${Math.random().toString().slice(4)}`,\r\n\t\t\tdate: `${new Date().toDateString()} ${new Date().toLocaleTimeString()}`,\r\n\t\t\ttype: this.formType,\r\n\t\t\tisCompleted: false,\r\n\t\t};\r\n\r\n\t\tif (!this.validateForm(options, this.formType)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tformData.title = this.titleInput.value;\r\n\r\n\t\tif (this.descriptionInput) {\r\n\t\t\tformData.description = this.descriptionInput.value;\r\n\t\t}\r\n\r\n\t\tif (options.length > 0) {\r\n\t\t\tformData.options = [...options].map((el) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttext: el.textContent,\r\n\t\t\t\t\tisCompleted: false,\r\n\t\t\t\t\tid: 'opt' + Math.random().toString().slice(4),\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.clearForm();\r\n\r\n\t\treturn formData;\r\n\t}\r\n\r\n\tvalidateForm(options, noteType) {\r\n\t\tif (!this.isValid(this.titleInput)) {\r\n\t\t\tthis.titleInput.parentNode.classList.add('invalid');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this.descriptionInput) {\r\n\t\t\tif (!this.isValid(this.descriptionInput)) {\r\n\t\t\t\tthis.descriptionInput.parentNode.classList.add('invalid');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (options.length < 1 && noteType !== 'note') {\r\n\t\t\tconst message = createElement('div');\r\n\t\t\tmessage.classList.add('form-message', 'form__message--invalid');\r\n\r\n\t\t\tmessage.innerText = 'You need to add at least 1 option';\r\n\r\n\t\t\tthis.formBody.append(message);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tmessage.remove();\r\n\t\t\t}, 4000);\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tisValid(input) {\r\n\t\treturn input.value.trim() !== '' ? true : false;\r\n\t}\r\n\r\n\tclearForm() {\r\n\t\tthis.titleInput.value = '';\r\n\r\n\t\tif (this.descriptionInput) {\r\n\t\t\tthis.descriptionInput.value = '';\r\n\t\t}\r\n\r\n\t\tgetElements('.option', this.form).forEach((el) => el.remove());\r\n\t}\r\n\r\n\tchangeFormBody(e) {\r\n\t\tthis.formType = e.target.dataset.type;\r\n\t\tthis.formBody.innerHTML = '';\r\n\t\tthis.createFormBody(this.formType);\r\n\t}\r\n\r\n\tcreateFormBody(type) {\r\n\t\tconst optionPicker = createElement('div');\r\n\t\toptionPicker.classList.add('options-control');\r\n\r\n\t\tconst optionsList = createElement('ul');\r\n\t\toptionsList.classList.add('options-list');\r\n\r\n\t\tif (type === 'todo') {\r\n\t\t\toptionsList.classList.add('options-list--todo');\r\n\t\t}\r\n\r\n\t\tif (type === 'targets' || type === 'note') {\r\n\t\t\tconst descrInput = createElement('div');\r\n\t\t\tdescrInput.classList.add('form-control');\r\n\t\t\tdescrInput.innerHTML = `\r\n\t\t\t\t<label>Note Description</label>\r\n\t\t\t\t<textarea class=\"input form-input\" placeholder=\"Enter description\"></textarea>\r\n\t\t\t`;\r\n\r\n\t\t\tthis.descriptionInput = getEl('textarea', descrInput);\r\n\t\t\tthis.connectInputHandler(this.descriptionInput);\r\n\r\n\t\t\tthis.formBody.append(descrInput);\r\n\r\n\t\t\tif (type === 'note') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.descriptionInput = null;\r\n\t\t}\r\n\r\n\t\toptionPicker.innerHTML = `\r\n\t\t\t<input class=\"input form-input\" placeholder=\"Enter Your task\" type=\"text\">\r\n\t\t\t<button type=\"button\" class=\"btn form-btn\">Add Option</button>\r\n    `;\r\n\r\n\t\tconst optionPickerBtn = getEl('button', optionPicker);\r\n\t\toptionPickerBtn.addEventListener('click', this.createOption.bind(this));\r\n\r\n\t\tthis.formBody.append(optionsList, optionPicker);\r\n\t}\r\n\r\n\tcreateOption(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst parentEl = getEl('.options-list', this.formBody);\r\n\t\tconst input = getEl('input', this.formBody);\r\n\r\n\t\tif (input.value.trim() === '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst option = createElement('li');\r\n\t\toption.classList.add('option');\r\n\r\n\t\tconst optionText = createElement('p');\r\n\t\toptionText.textContent = input.value;\r\n\r\n\t\tconst deleteBtn = createElement('button');\r\n\t\tdeleteBtn.classList.add('btn', 'delete-btn');\r\n\t\tdeleteBtn.innerText = 'X';\r\n\r\n\t\tdeleteBtn.addEventListener('click', (e) => {\r\n\t\t\te.target.parentNode.remove();\r\n\t\t});\r\n\r\n\t\toption.append(optionText, deleteBtn);\r\n\r\n\t\tparentEl.append(option);\r\n\r\n\t\tinput.value = '';\r\n\t}\r\n\r\n\tconnectChangeBodyHandler() {\r\n\t\tthis.formSelectors.forEach((selector) =>\r\n\t\t\tselector.addEventListener('change', this.changeFormBody.bind(this))\r\n\t\t);\r\n\t}\r\n\r\n\tconnectInputHandler(input) {\r\n\t\tinput.addEventListener('blur', () => {\r\n\t\t\tif (this.isValid(input)) {\r\n\t\t\t\tinput.parentNode.classList.remove('invalid');\r\n\t\t\t} else {\r\n\t\t\t\tinput.parentNode.classList.add('invalid');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectCloseBtnHandler() {\r\n\t\tgetEl('.close-btn', this.form).addEventListener('click', () =>\r\n\t\t\tthis.form.classList.remove('shown')\r\n\t\t);\r\n\t}\r\n}\r\n","import { getEl, createElement } from '../utils/DOMHelpers';\r\n\r\nexport default class Note {\r\n\tmonths = [\r\n\t\t'Jan',\r\n\t\t'Feb',\r\n\t\t'Mar',\r\n\t\t'Apr',\r\n\t\t'May',\r\n\t\t'Jun',\r\n\t\t'Jul',\r\n\t\t'Aug',\r\n\t\t'Sep',\r\n\t\t'Oct',\r\n\t\t'Nov',\r\n\t\t'Dec',\r\n\t];\r\n\r\n\tcreateNote(formData) {\r\n\t\tconst note = createElement('li');\r\n\t\tnote.classList.add('note');\r\n\r\n\t\tif (formData.type !== 'note') {\r\n\t\t\tnote.classList.add(formData.type);\r\n\t\t}\r\n\r\n\t\tif (formData.isCompleted) {\r\n\t\t\tnote.classList.add('completed');\r\n\t\t}\r\n\r\n\t\tconst { title, type, id } = formData;\r\n\r\n\t\tnote.dataset.type = type;\r\n\t\tnote.id = id;\r\n\r\n\t\tconst [day, date, month] = formData.date.split(' ');\r\n\r\n\t\tnote.innerHTML = `\r\n\t\t\t<div class=\"note__inner\">\r\n\t\t\t\t<h2 class=\"note__title\">\r\n\t\t\t\t\t${title}\r\n\t\t\t\t</h2>\r\n\t\t\t\t<div class=\"note__content\"></div>\r\n\t\t\t\t<div class=\"note__info\">\r\n\t\t\t\t\t<div class=\"note__date\">${date} ${month}</div>\r\n\t\t\t\t\t<div class=\"note__type\">${type}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\r\n\t\tconst noteContentEl = getEl('.note__content', note);\r\n\r\n\t\tif (type !== 'todo') {\r\n\t\t\tconst description = createElement('p');\r\n\r\n\t\t\tdescription.innerText = formData.description;\r\n\t\t\tdescription.classList.add('note__description');\r\n\t\t\tnoteContentEl.insertAdjacentElement('afterbegin', description);\r\n\t\t}\r\n\r\n\t\tif (type === 'todo' || type === 'targets') {\r\n\t\t\tthis.createOptions(formData.options, noteContentEl);\r\n\t\t}\r\n\r\n\t\treturn note;\r\n\t}\r\n\r\n\tcreateOptions(options, parentEl) {\r\n\t\tconst optionsList = createElement('ul');\r\n\t\toptionsList.classList.add('note-options');\r\n\r\n\t\toptions.forEach((option) => {\r\n\t\t\tconst newOption = createElement('li');\r\n\t\t\tnewOption.classList.add('note-option');\r\n\r\n\t\t\tnewOption.innerHTML = `\r\n\t\t\t\t<span></span>\r\n\t\t\t\t<p>${option.text}</p>\r\n\t\t\t`;\r\n\r\n\t\t\tif (option.isCompleted) {\r\n\t\t\t\tnewOption.classList.add('completed');\r\n\t\t\t}\r\n\r\n\t\t\tnewOption.id = option.id;\r\n\r\n\t\t\toptionsList.append(newOption);\r\n\t\t});\r\n\r\n\t\tparentEl.append(optionsList);\r\n\t}\r\n}\r\n","import { createElement } from '../utils/DOMHelpers';\r\n\r\nexport default class Notification {\r\n\tconstructor(description, type) {\r\n\t\tthis.type = type;\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tcreateNotification() {\r\n\t\tconst notification = createElement('div');\r\n\t\tnotification.classList.add('notification');\r\n\r\n\t\tif (this.type) {\r\n\t\t\tnotification.classList.add(this.type);\r\n\t\t}\r\n\r\n\t\tnotification.innerText = this.description;\r\n\r\n\t\treturn notification;\r\n\t}\r\n}\r\n","export default class Store {\r\n\tconstructor(name) {\r\n\t\tthis.name = name;\r\n\t\tthis.store = window.localStorage;\r\n\t\tthis.items;\r\n\t}\r\n\r\n\tgetLocalStorage() {\r\n\t\treturn this.items || JSON.parse(this.store.getItem(this.name) || '[]');\r\n\t}\r\n\r\n\tsetLocalStorage(newItems) {\r\n\t\tthis.store.setItem(this.name, JSON.stringify((this.items = newItems)));\r\n\t}\r\n\r\n\tsetTheme(themeName) {\r\n\t\tthis.store.setItem('Theme', themeName);\r\n\t}\r\n\r\n\tgetTheme() {\r\n\t\treturn this.store.getItem('Theme');\r\n\t}\r\n\r\n\tupdateItem(newItem) {\r\n\t\tconst id = newItem.id;\r\n\t\tconst storeItems = this.getLocalStorage();\r\n\r\n\t\tconst newItems = storeItems.map((item) => {\r\n\t\t\tif (item.id !== id) {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\r\n\t\t\treturn newItem;\r\n\t\t});\r\n\r\n\t\tthis.setLocalStorage(newItems);\r\n\t}\r\n\r\n\tfindItem(id) {\r\n\t\tconst storeItems = this.getLocalStorage();\r\n\t\treturn storeItems.find((item) => item.id === id);\r\n\t}\r\n\r\n\taddItem(item) {\r\n\t\tconst storeItems = this.getLocalStorage();\r\n\t\tstoreItems.push(item);\r\n\t\tthis.setLocalStorage(storeItems);\r\n\t}\r\n\r\n\tremoveItem(id) {\r\n\t\tconst storeItems = this.getLocalStorage();\r\n\t\tconst updatedStoreItems = storeItems.filter((item) => item.id !== id);\r\n\t\tthis.setLocalStorage(updatedStoreItems);\r\n\t}\r\n\r\n\tremoveAll() {\r\n\t\tthis.setLocalStorage([]);\r\n\t}\r\n\r\n\tremoveCompleted() {\r\n\t\tconst storeItems = this.getLocalStorage();\r\n\r\n\t\tif (storeItems.length < 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst updatedItems = storeItems.filter((item) => !item.isCompleted);\r\n\t\tthis.setLocalStorage(updatedItems);\r\n\t}\r\n\r\n\tsetCompleteStatus(status) {\r\n\t\tlet completeStatus;\r\n\t\tconst storeItems = this.getLocalStorage();\r\n\r\n\t\tif (status === 'complete') {\r\n\t\t\tcompleteStatus = true;\r\n\t\t} else {\r\n\t\t\tcompleteStatus = false;\r\n\t\t}\r\n\r\n\t\tif (storeItems.length < 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst updatedItems = storeItems.map((item) => {\r\n\t\t\titem.isCompleted = completeStatus;\r\n\r\n\t\t\tif (item.options) {\r\n\t\t\t\titem.options.forEach((opt) => (opt.isCompleted = completeStatus));\r\n\t\t\t}\r\n\r\n\t\t\treturn item;\r\n\t\t});\r\n\r\n\t\tthis.setLocalStorage(updatedItems);\r\n\t}\r\n\r\n\tgetItemsCount() {\r\n\t\tconst storeItems = this.getLocalStorage();\r\n\t\tconst completedNotes = storeItems.filter((item) => item.isCompleted).length;\r\n\r\n\t\treturn {\r\n\t\t\tnotesQuantity: storeItems.length,\r\n\t\t\tcompletedNotesQuantity: completedNotes,\r\n\t\t};\r\n\t}\r\n}\r\n","import Notification from './Notification';\r\nimport { getEl, getElements, createElement } from '../utils/DOMHelpers';\r\nexport default class UI {\r\n\tconstructor(noteTemplate, formInstance, actions) {\r\n\t\tthis.actions = actions;\r\n\t\tthis.noteTemplate = noteTemplate;\r\n\t\tthis.formInstance = formInstance;\r\n\t\tthis.mainSection = getEl('.main');\r\n\t\tthis.noteList = getEl('.notes');\r\n\t\tthis.tabs = getEl('.notes-tabs');\r\n\t\tthis.createNoteBtn = getEl('#create-note');\r\n\t\tthis.searchInput = getEl('#search-input');\r\n\t\tthis.form = getEl('#form');\r\n\t\tthis.editMenu = getEl('.header__edit');\r\n\t\tthis.settingsMenu = getEl('.header__settings');\r\n\t\tthis.tabs = getEl('.notes-tabs');\r\n\t\tthis.backdrop = getEl('.backdrop');\r\n\t\tthis.notifications = getEl('#notifications');\r\n\t\tthis.contextMenuTemplate = getEl('#context-menu-template');\r\n\t\tthis.noteDetail = getEl('#note-detail');\r\n\t\tthis.themeModal = getEl('#theme-modal');\r\n\t\tthis.tabsBtn = getEl('#tabs-btn');\r\n\t\tthis.startScreen = getEl('.start-screen');\r\n\t\tthis.infoBlock = getEl('.info-block');\r\n\t\tthis.kitty = getEl('.kitty');\r\n\r\n\t\tthis.bindEventsToElements();\r\n\t}\r\n\r\n\tcreateNote(formData) {\r\n\t\tif (!formData) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.startScreen) {\r\n\t\t\tthis.startScreen.classList.add('hiden');\r\n\t\t}\r\n\r\n\t\tconst newNote = this.noteTemplate.createNote(formData);\r\n\t\tthis.noteList.insertAdjacentElement('afterbegin', newNote);\r\n\r\n\t\tthis.resizeAllNotes();\r\n\t}\r\n\r\n\tcreateNotification(type, description) {\r\n\t\tconst notification = new Notification(\r\n\t\t\ttype,\r\n\t\t\tdescription\r\n\t\t).createNotification();\r\n\r\n\t\tthis.notifications.append(notification);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tnotification.remove();\r\n\t\t}, 4000);\r\n\t}\r\n\r\n\tresizeNote(item) {\r\n\t\tconst grid = this.noteList;\r\n\t\tconst rowHeight = parseInt(\r\n\t\t\twindow.getComputedStyle(grid).getPropertyValue('grid-auto-rows')\r\n\t\t);\r\n\t\tconst rowGap = parseInt(\r\n\t\t\twindow.getComputedStyle(grid).getPropertyValue('grid-row-gap')\r\n\t\t);\r\n\t\tconst rowSpan = Math.ceil(\r\n\t\t\t(getEl('.note__inner', item).getBoundingClientRect().height + rowGap) /\r\n\t\t\t\t(rowHeight + rowGap)\r\n\t\t);\r\n\r\n\t\titem.style.gridRowEnd = 'span ' + rowSpan;\r\n\t}\r\n\r\n\tresizeAllNotes() {\r\n\t\tgetElements('.note', this.noteList).forEach((note) => {\r\n\t\t\tthis.resizeNote(note);\r\n\t\t});\r\n\t}\r\n\r\n\teditNote(target) {\r\n\t\ttarget.classList.add('editing');\r\n\r\n\t\tconst textarea = createElement('textarea');\r\n\t\ttextarea.classList.add('input', 'form-input', 'edit');\r\n\r\n\t\ttextarea.value = target.innerText;\r\n\t\ttarget.appendChild(textarea);\r\n\t\ttextarea.focus();\r\n\t}\r\n\r\n\teditNoteFinished(id, contentEl) {\r\n\t\tconst note = getEl(`#${id}`);\r\n\t\tconst textarea = getEl('textarea', note);\r\n\r\n\t\tcontentEl.innerText = textarea.value;\r\n\r\n\t\tcontentEl.classList.remove('editing');\r\n\t\ttextarea.remove();\r\n\r\n\t\tthis.resizeAllNotes();\r\n\t}\r\n\r\n\tsetNotesActiveStatus(id) {\r\n\t\tgetElements('.note', this.noteList).forEach((note) => {\r\n\t\t\tif (id && note.id !== id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tnote.classList.add('completed');\r\n\r\n\t\t\tgetElements('.note-option', note).forEach((opt) =>\r\n\t\t\t\topt.classList.add('completed')\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tsetNotesInactiveStatus(id) {\r\n\t\tgetElements('.note', this.noteList).forEach((note) => {\r\n\t\t\tif (id && note.id !== id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tnote.classList.remove('completed');\r\n\r\n\t\t\tgetElements('.note-option', note).forEach((opt) =>\r\n\t\t\t\topt.classList.remove('completed')\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tfilterNotesByType(type) {\r\n\t\tconst notes = getElements('.note', this.noteList);\r\n\r\n\t\tnotes.forEach((note) => {\r\n\t\t\tconst noteType = note.dataset.type;\r\n\r\n\t\t\tif (type === 'all') {\r\n\t\t\t\tnote.classList.remove('hide');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (type === 'completed' && note.classList.contains(type)) {\r\n\t\t\t\tnote.classList.remove('hide');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (noteType !== type) {\r\n\t\t\t\tnote.classList.add('hide');\r\n\t\t\t} else {\r\n\t\t\t\tnote.classList.remove('hide');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcopyToClipboard(textToCopy) {\r\n\t\tif (navigator.clipboard && window.isSecureContext) {\r\n\t\t\treturn navigator.clipboard.writeText(textToCopy);\r\n\t\t} else {\r\n\t\t\tlet textArea = document.createElement('textarea');\r\n\t\t\ttextArea.value = textToCopy;\r\n\t\t\ttextArea.style.position = 'fixed';\r\n\t\t\ttextArea.style.left = '-999999px';\r\n\t\t\ttextArea.style.top = '-999999px';\r\n\t\t\tdocument.body.appendChild(textArea);\r\n\t\t\ttextArea.focus();\r\n\t\t\ttextArea.select();\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tdocument.execCommand('copy') ? res() : rej();\r\n\t\t\t\ttextArea.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcreateContextMenu(e, note) {\r\n\t\tconst contextMenuTemplate =\r\n\t\t\tthis.contextMenuTemplate.content.firstElementChild;\r\n\t\tconst contextMenu = contextMenuTemplate.cloneNode(true);\r\n\r\n\t\tif (note.dataset.type === 'todo') {\r\n\t\t\tgetEl('#copy-description-btn', contextMenu).remove();\r\n\t\t\tgetEl('#edit-description-btn', contextMenu).remove();\r\n\t\t}\r\n\r\n\t\tconst y = e.clientY;\r\n\t\tconst x = e.clientX;\r\n\r\n\t\tconst noteRect = note.getBoundingClientRect();\r\n\r\n\t\tlet yInside = y - noteRect.top;\r\n\t\tlet xInside = x - noteRect.left;\r\n\r\n\t\tif (x > document.documentElement.getBoundingClientRect().width / 2) {\r\n\t\t\txInside -= note.clientWidth / 2;\r\n\t\t}\r\n\r\n\t\tcontextMenu.style.top = `${yInside}px`;\r\n\t\tcontextMenu.style.left = `${xInside}px`;\r\n\r\n\t\tcontextMenu.addEventListener(\r\n\t\t\t'click',\r\n\t\t\t(e) => {\r\n\t\t\t\tthis.contextMenuHandler(e, note);\r\n\t\t\t},\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tthis.contextMenu = contextMenu;\r\n\t\tnote.append(contextMenu);\r\n\t}\r\n\r\n\tcontextMenuHandler(e, note) {\r\n\t\tconst noteId = note.id;\r\n\r\n\t\tswitch (e.target.closest('button').id) {\r\n\t\t\tcase 'remove-note-btn':\r\n\t\t\t\tthis.actions.removeNote(noteId);\r\n\t\t\t\tnote.remove();\r\n\t\t\t\tthis.createNotification('Note removed');\r\n\t\t\t\tif (this.actions.getItemsCount().notesQuantity < 1) {\r\n\t\t\t\t\tthis.startScreen.classList.remove('hiden');\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'select-text-btn':\r\n\t\t\t\tthis.contextMenu.remove();\r\n\t\t\t\tthis.selectNoteText(noteId);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'complete-note-btn':\r\n\t\t\t\tif (note.classList.contains('completed')) {\r\n\t\t\t\t\tnote.classList.remove('completed');\r\n\t\t\t\t\tthis.actions.toggleCompleteStatus(noteId);\r\n\t\t\t\t\tthis.setNotesInactiveStatus(noteId);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet options = [...getElements('.note-option', note)];\r\n\r\n\t\t\t\t\tif (options.length > 0) {\r\n\t\t\t\t\t\toptions = options.map((op) => op.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.actions.toggleCompleteStatus(noteId, options);\r\n\t\t\t\t\tthis.setNotesActiveStatus(noteId);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'edit-title-btn':\r\n\t\t\t\tthis.editNote(getEl('.note__title', note));\r\n\t\t\t\tthis.contextMenu.remove();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'edit-description-btn':\r\n\t\t\t\tthis.editNote(getEl('.note__description', note));\r\n\t\t\t\tthis.contextMenu.remove();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'copy-description-btn':\r\n\t\t\t\tthis.contextMenu.remove();\r\n\t\t\t\tthis.copyToClipboard(getEl('.note__description', note).textContent);\r\n\t\t\t\tthis.createNotification('Description copied!');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'copy-title-btn':\r\n\t\t\t\tthis.contextMenu.remove();\r\n\t\t\t\tthis.copyToClipboard(getEl('.note__title', note).textContent);\r\n\t\t\t\tthis.createNotification('Title copied!');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\teditMenuHandler(e) {\r\n\t\tconst target = e.target;\r\n\r\n\t\tswitch (target.id) {\r\n\t\t\tcase 'edit-btn': {\r\n\t\t\t\ttarget.parentNode.classList.toggle('active');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'remove-all-btn': {\r\n\t\t\t\tif (!confirm('Are You sure You want to delete all notes?')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.actions.removeAll();\r\n\t\t\t\tthis.noteList.innerHTML = '';\r\n\t\t\t\tthis.startScreen.classList.remove('hiden');\r\n\t\t\t\tthis.createNotification('All notes removed', 'succsess');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'remove-completed-btn': {\r\n\t\t\t\tif (!confirm('Are You sure You want to delete completed notes?')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.actions.removeCompleted();\r\n\t\t\t\tgetElements('.note', this.noteList).forEach((note) => {\r\n\t\t\t\t\tif (note.classList.contains('completed')) {\r\n\t\t\t\t\t\tnote.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.createNotification('All completed notes removed', 'succsess');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'mark-notes-btn': {\r\n\t\t\t\tif (target.dataset.complete === 'false') {\r\n\t\t\t\t\tthis.actions.setAllCompleted();\r\n\t\t\t\t\tthis.setNotesActiveStatus();\r\n\t\t\t\t\ttarget.dataset.complete = true;\r\n\r\n\t\t\t\t\ttarget.innerText = 'Mark all as incompleted';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.actions.setAllIncompleted();\r\n\t\t\t\t\tthis.setNotesInactiveStatus();\r\n\t\t\t\t\ttarget.dataset.complete = false;\r\n\r\n\t\t\t\t\ttarget.innerText = 'Mark all as completed';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tselectNoteText(id) {\r\n\t\tconst note = getEl(`#${id}`);\r\n\r\n\t\tthis.noteDetail.innerHTML = '';\r\n\r\n\t\tconst noteClone = note.cloneNode(true);\r\n\t\tnoteClone.classList.add('select');\r\n\t\tthis.noteDetail.appendChild(noteClone);\r\n\r\n\t\tflipNotes(note, noteClone, () => {\r\n\t\t\tthis.mainSection.dataset.state = 'detail';\r\n\t\t\tnote.style.opacity = 0;\r\n\t\t});\r\n\r\n\t\tconst revert = (e) => {\r\n\t\t\tif (!e.target.classList.contains('note-detail')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tflipNotes(noteClone, note, () => {\r\n\t\t\t\tthis.mainSection.dataset.state = 'gallery';\r\n\t\t\t\tnote.style.opacity = '';\r\n\t\t\t\tnoteClone.remove();\r\n\t\t\t\tthis.noteDetail.removeEventListener('click', revert);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tthis.noteDetail.addEventListener('click', revert);\r\n\r\n\t\tfunction flipNotes(firstEl, lastEl, change) {\r\n\t\t\tconst firstRect = firstEl.getBoundingClientRect();\r\n\t\t\tconst lastRect = lastEl.getBoundingClientRect();\r\n\r\n\t\t\tconst deltaX = firstRect.left - lastRect.left;\r\n\t\t\tconst deltaY = firstRect.top - lastRect.top;\r\n\t\t\tconst deltaW = firstRect.width / lastRect.width;\r\n\t\t\tconst deltaH = firstRect.height / lastRect.height;\r\n\r\n\t\t\tchange();\r\n\r\n\t\t\tlastEl.animate(\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttransform: `translateX(${deltaX}px) translateY(${deltaY}px) scaleX(${deltaW}) scaleY(${deltaH})`,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttransform: 'none',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\t{\r\n\t\t\t\t\tduration: 600,\r\n\t\t\t\t\teasing: 'cubic-bezier(0.2, 0, 0.3, 1)',\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tsettingsMenuHandler(e) {\r\n\t\tconst target = e.target;\r\n\r\n\t\tswitch (target.id) {\r\n\t\t\tcase 'settings-btn':\r\n\t\t\t\tif (this.settingsMenu.classList.contains('expand')) {\r\n\t\t\t\t\tthis.settingsMenu.classList.remove('expand');\r\n\t\t\t\t\tthis.settingsMenu.classList.add('shrink');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.settingsMenu.classList.remove('shrink');\r\n\t\t\t\t\tthis.settingsMenu.classList.add('expand');\r\n\t\t\t\t}\r\n\t\t\t\ttarget.classList.toggle('active');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'change-theme-btn':\r\n\t\t\t\tthis.backdrop.classList.add('shown');\r\n\t\t\t\tthis.showThemeModal();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'info-btn':\r\n\t\t\t\tthis.backdrop.classList.add('shown');\r\n\t\t\t\tthis.infoBlock.classList.add('shown');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'kitty-btn':\r\n\t\t\t\tif (this.kitty.classList.contains('.shown')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.kitty.classList.add('shown');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.kitty.classList.remove('shown');\r\n\t\t\t\t}, 2000);\r\n\t\t}\r\n\t}\r\n\r\n\tshowThemeModal() {\r\n\t\tthis.themeModal.classList.add('shown');\r\n\t}\r\n\r\n\t// bind events to DOM elements\r\n\r\n\tconnectSettingsMenu() {\r\n\t\tthis.settingsMenu.addEventListener('click', (e) => {\r\n\t\t\tthis.settingsMenuHandler(e);\r\n\t\t});\r\n\t}\r\n\r\n\tconnectThemeModal() {\r\n\t\tthis.themeModal.addEventListener('click', (e) => {\r\n\t\t\tif (e.target.checked) {\r\n\t\t\t\tthis.actions.setTheme(e.target.id);\r\n\t\t\t\tdocument.body.className = `${e.target.id}`;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectContextMenu() {\r\n\t\tthis.noteList.addEventListener('contextmenu', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst target = e.target;\r\n\r\n\t\t\tif (target.closest('.context-menu')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (target.closest('.note') && !target.closest('.context-menu')) {\r\n\t\t\t\tconst note = target.closest('.note');\r\n\r\n\t\t\t\tif (this.contextMenu) {\r\n\t\t\t\t\tthis.contextMenu.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.createContextMenu(e, note);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectSearchHandler() {\r\n\t\tthis.searchInput.addEventListener('input', (e) => {\r\n\t\t\tgetElements('.note', this.noteList).forEach((note) => {\r\n\t\t\t\tconst searchValue = e.target.value.trim();\r\n\t\t\t\tconst title = getEl('.note__title', note).textContent.trim();\r\n\r\n\t\t\t\tif (!title.toLowerCase().includes(searchValue.toLowerCase())) {\r\n\t\t\t\t\tnote.classList.add('hide');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnote.classList.remove('hide');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.resizeAllNotes();\r\n\t\t});\r\n\t}\r\n\r\n\tconnectShowFormBtn(btn) {\r\n\t\tbtn.addEventListener('click', () => {\r\n\t\t\tthis.backdrop.classList.add('shown');\r\n\t\t\tthis.form.classList.add('shown');\r\n\t\t});\r\n\t}\r\n\r\n\tconnectTabsHandler() {\r\n\t\tthis.tabs.addEventListener('click', (e) => {\r\n\t\t\tconst target = e.target;\r\n\r\n\t\t\tif (target.closest('.notes-tab')) {\r\n\t\t\t\tgetElements('.notes-tab').forEach((tab) =>\r\n\t\t\t\t\ttab.classList.remove('active')\r\n\t\t\t\t);\r\n\r\n\t\t\t\ttarget.classList.add('active');\r\n\r\n\t\t\t\tgetEl('span', this.tabsBtn).textContent = target.textContent;\r\n\r\n\t\t\t\tthis.filterNotesByType(target.dataset.type);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectDoubleClickToNoteList() {\r\n\t\tthis.noteList.addEventListener('dblclick', (e) => {\r\n\t\t\tconst target = e.target;\r\n\r\n\t\t\tif (\r\n\t\t\t\ttarget.closest('.note') &&\r\n\t\t\t\t(target.classList.contains('note__description') ||\r\n\t\t\t\t\ttarget.classList.contains('note__title'))\r\n\t\t\t) {\r\n\t\t\t\tthis.editNote(target);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectBodyClickHandler() {\r\n\t\tdocument.body.addEventListener('click', (e) => {\r\n\t\t\tif (this.contextMenu && !e.target.closest('.context-menu')) {\r\n\t\t\t\tthis.contextMenu.remove();\r\n\t\t\t}\r\n\r\n\t\t\tif (e.target.classList.contains('close-btn')) {\r\n\t\t\t\tthis.backdrop.classList.remove('shown');\r\n\t\t\t}\r\n\r\n\t\t\tif (!e.target.closest('.header__edit')) {\r\n\t\t\t\tgetEl('.header__edit').classList.remove('active');\r\n\t\t\t}\r\n\r\n\t\t\tif (e.target.classList.contains('backdrop')) {\r\n\t\t\t\tthis.backdrop.classList.remove('shown');\r\n\t\t\t\tthis.form.classList.remove('shown');\r\n\t\t\t\tthis.themeModal.classList.remove('shown');\r\n\t\t\t\tthis.infoBlock.classList.remove('shown');\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\tthis.settingsMenu.classList.contains('expand') &&\r\n\t\t\t\t!e.target.closest('.header__settings')\r\n\t\t\t) {\r\n\t\t\t\tthis.settingsMenu.classList.remove('expand');\r\n\t\t\t\tthis.settingsMenu.classList.add('shrink');\r\n\t\t\t\tthis.settingsMenu.firstElementChild.classList.remove('active');\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\twindow.matchMedia('(max-width: 640px)') &&\r\n\t\t\t\t!e.target.closest('.tabs-container')\r\n\t\t\t) {\r\n\t\t\t\tthis.tabs.classList.remove('active');\r\n\t\t\t\tthis.tabsBtn.classList.remove('active');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectEditMenu() {\r\n\t\tthis.editMenu.addEventListener('click', (e) => {\r\n\t\t\tconst { notesQuantity } = this.actions.getItemsCount();\r\n\r\n\t\t\tif (notesQuantity < 1) {\r\n\t\t\t\tthis.editMenu.classList.add('edit-disabled');\r\n\t\t\t} else {\r\n\t\t\t\tthis.editMenu.classList.remove('edit-disabled');\r\n\t\t\t}\r\n\r\n\t\t\tthis.editMenuHandler(e);\r\n\t\t});\r\n\t}\r\n\r\n\tconnectSubmitFormHandler() {\r\n\t\tthis.formInstance.form.addEventListener('submit', (e) => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst formData = this.formInstance.getFormData();\r\n\r\n\t\t\tif (!formData) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.createNote(formData);\r\n\t\t\tthis.actions.addItem(formData);\r\n\r\n\t\t\tthis.form.classList.remove('shown');\r\n\t\t\tthis.backdrop.classList.remove('shown');\r\n\r\n\t\t\tthis.createNotification(`${formData.type} created!`, 'success');\r\n\t\t});\r\n\t}\r\n\r\n\tconnectToggleCompleteStatusHandler() {\r\n\t\tthis.noteList.addEventListener('click', (e) => {\r\n\t\t\tif (!e.target.closest('.note')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst target = e.target.closest('.note-option');\r\n\t\t\tconst id = e.target.closest('.note').id;\r\n\r\n\t\t\tif (target) {\r\n\t\t\t\tconst allOptions = getElements('.note-option', target.parentNode);\r\n\t\t\t\ttarget.classList.toggle('completed');\r\n\r\n\t\t\t\tconst completedOptions = getElements(\r\n\t\t\t\t\t'.note-option.completed',\r\n\t\t\t\t\ttarget.parentNode\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (completedOptions.length === allOptions.length) {\r\n\t\t\t\t\ttarget.closest('.note').classList.add('completed');\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget.closest('.note').classList.remove('completed');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst completedIds = [...completedOptions].map((op) => op.id);\r\n\r\n\t\t\t\tthis.actions.toggleCompleteStatus(id, completedIds);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectEditNoteSaveHandler() {\r\n\t\tthis.noteList.addEventListener(\r\n\t\t\t'blur',\r\n\t\t\t(e) => {\r\n\t\t\t\tconst target = e.target;\r\n\t\t\t\tconst id = target.closest('.note').id;\r\n\t\t\t\tconst newValue = target.value;\r\n\r\n\t\t\t\tif (newValue.trim() === '') {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (e.target.closest('.note__title')) {\r\n\t\t\t\t\tthis.actions.saveNoteChanges(id, newValue, 'title');\r\n\t\t\t\t\tthis.editNoteFinished(id, target.parentNode);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (e.target.closest('.note__description')) {\r\n\t\t\t\t\tthis.actions.saveNoteChanges(id, newValue, 'description');\r\n\t\t\t\t\tthis.editNoteFinished(id, target.parentNode);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttrue\r\n\t\t);\r\n\t}\r\n\r\n\tconnectEditNoteCancel() {\r\n\t\tthis.noteList.addEventListener('keyup', (e) => {\r\n\t\t\tconst target = e.target;\r\n\r\n\t\t\tif (e.keyCode === 27) {\r\n\t\t\t\ttarget.value = target.parentNode.textContent.trim();\r\n\t\t\t\ttarget.blur();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconnectMansornyLayoutResize() {\r\n\t\tlet timer;\r\n\t\twindow.addEventListener('resize', () => {\r\n\t\t\tclearTimeout(timer);\r\n\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\tthis.resizeAllNotes();\r\n\t\t\t}, 200);\r\n\t\t});\r\n\t}\r\n\r\n\tconnectTabsBtn() {\r\n\t\tthis.tabsBtn.addEventListener('click', (e) => {\r\n\t\t\tthis.tabsBtn.classList.toggle('active');\r\n\t\t\tthis.tabsBtn.nextElementSibling.classList.toggle('active');\r\n\t\t});\r\n\t}\r\n\r\n\tbindEventsToElements() {\r\n\t\tthis.connectBodyClickHandler();\r\n\t\tthis.connectSearchHandler();\r\n\t\tthis.connectTabsHandler();\r\n\t\tthis.connectDoubleClickToNoteList();\r\n\t\tthis.connectToggleCompleteStatusHandler();\r\n\t\tthis.connectContextMenu();\r\n\t\tthis.connectEditMenu();\r\n\t\tthis.connectEditNoteSaveHandler();\r\n\t\tthis.connectEditNoteCancel();\r\n\t\tthis.connectSubmitFormHandler();\r\n\t\tthis.connectShowFormBtn(this.createNoteBtn);\r\n\t\tthis.connectShowFormBtn(getEl('button', this.startScreen));\r\n\t\tthis.connectTabsBtn();\r\n\t\tthis.connectSettingsMenu();\r\n\t\tthis.connectThemeModal();\r\n\t\tthis.connectMansornyLayoutResize();\r\n\t}\r\n\r\n\t// first render\r\n\r\n\tinit(store) {\r\n\t\tconst currentTheme = this.actions.getTheme();\r\n\r\n\t\tif (currentTheme !== null) {\r\n\t\t\tdocument.body.className = currentTheme;\r\n\t\t\tgetEl(`#${currentTheme}`).checked = true;\r\n\t\t}\r\n\r\n\t\tif (store.length > 0) {\r\n\t\t\tthis.noteList.innerHTML = '';\r\n\t\t\tstore.forEach((itemData) => {\r\n\t\t\t\tthis.createNote(itemData);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.resizeAllNotes();\r\n\t}\r\n}\r\n","import App from './App';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\tApp.init();\r\n});\r\n","export const getEl = (selector, parent = document) => {\r\n\treturn parent.querySelector(selector);\r\n};\r\n\r\nexport const getElements = (selector, parent = document) => {\r\n\treturn parent.querySelectorAll(selector);\r\n};\r\n\r\nexport const createElement = (tag) => {\r\n\treturn document.createElement(tag);\r\n};\r\n\r\nexport const connectEvent = (target, type, handler, capture) => {\r\n\ttarget.addEventListener(type, handler, !!capture);\r\n};\r\n\r\nexport const delegate = (target, selector, type, handler, capture) => {\r\n\tconst dispatchEvent = (e) => {\r\n\t\tif (e.target.closest(selector)) {\r\n\t\t\thandler.call(e.target, e);\r\n\t\t}\r\n\t};\r\n\r\n\tconnectEvent(target, type, dispatchEvent, !!capture);\r\n};\r\n"],"sourceRoot":""}